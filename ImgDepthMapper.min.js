MagicEye.ImgDepthMapper=MagicEye.DepthMapper.extend({constructor:function(t){this.img=t},make:function(){var t=document.createElement("canvas"),e=t.getContext("2d");t.width=this.img.width,t.height=this.img.height,e.drawImage(this.img,0,0,t.width,t.height),this.depthMapFromCanvas(t)},depthMapFromCanvas:function(t){var e,a,i,h=t.getContext("2d"),n=[],g=t.width,r=t.height,o=h.getImageData(0,0,g,r).data;for(a=0;a<r;a++)for(n[a]=new Float32Array(g),i=g*a*4,e=0;e<g;e++)n[a][e]=o[i+4*e];return n}});